// Widget Dropdown variables
const webSelect = [
  {
    groupName: "Group 46",
    websiteName: "Airborne"
  },
  {
    groupName: "Group 3",
    websiteName: "Almond Joy"
  },
  {
    groupName: "Group 43",
    websiteName: "Apple Jacks"
  },
  {
    groupName: "Group 41",
    websiteName: "Baby Ruth"
  },
  {
    groupName: "Group 14",
    websiteName: "Band-Aid"
  },
  {
    groupName: "Group 33",
    websiteName: "BIC"
  },
  {
    groupName: "Group 34",
    websiteName: "Blue Sky"
  },
  {
    groupName: "Group 2",
    websiteName: "Bubly"
  },
  {
    groupName: "Group 41",
    websiteName: "Butterfinger"
  },
  {
    groupName: "Group 21",
    websiteName: "Cap'n Crunch"
  },
  {
    groupName: "Group 16",
    websiteName: "Capri Sun"
  },
  {
    groupName: "Group 43",
    websiteName: "Cheez It"
  },
  {
    groupName: "Group 14",
    websiteName: "Clean & Clear"
  },
  {
    groupName: "Group 1",
    websiteName: "Contigo"
  },
  {
    groupName: "Group 43",
    websiteName: "Corn Flakes"
  },
  {
    groupName: "Group 28",
    websiteName: "Crayola"
  },
  {
    groupName: "Group 19",
    websiteName: "Crest"
  },
  {
    groupName: "Group 41",
    websiteName: "Crunch"
  },
  {
    groupName: "Group 25",
    websiteName: "Degree"
  },
  {
    groupName: "Group 30",
    websiteName: "Dixon"
  },
  {
    groupName: "Group 42",
    websiteName: "Dove Chocolate"
  },
  {
    groupName: "Group 12",
    websiteName: "Dunkin Donut Coffee"
  },
  {
    groupName: "Group 1",
    websiteName: "Elmer's"
  },
  {
    groupName: "Group 47",
    websiteName: "Energizer"
  },
  {
    groupName: "Group 1",
    websiteName: "Expo"
  },
  {
    groupName: "Group 35",
    websiteName: "Fiskars"
  },
  {
    groupName: "Group 32",
    websiteName: "Five Star"
  },
  {
    groupName: "Group 43",
    websiteName: "Froot Loops"
  },
  {
    groupName: "Group 43",
    websiteName: "Frosted Flakes"
  },
  {
    groupName: "Group 43",
    websiteName: "Frosted Mini Wheats"
  },
  {
    groupName: "Group 9",
    websiteName: "Garnier Fructis"
  },
  {
    groupName: "Group 2",
    websiteName: "Gatorade"
  },
  {
    groupName: "Group 23",
    websiteName: "Glade"
  },
  {
    groupName: "Group 10",
    websiteName: "Good 2 Grow"
  },
  {
    groupName: "Group 5",
    websiteName: "Halls"
  },
  {
    groupName: "Group 13",
    websiteName: "Hawaiian Punch"
  },
  {
    groupName: "Group 3",
    websiteName: "Hershey's Milk Chocolate"
  },
  {
    groupName: "Group 3",
    websiteName: "Hershey's popped snack mix"
  },
  {
    groupName: "Group 11",
    websiteName: "Hint"
  },
  {
    groupName: "Group 3",
    websiteName: "Ice Breakers"
  },
  {
    groupName: "Group 45",
    websiteName: "Infinitive"
  },
  {
    groupName: "Group 29",
    websiteName: "Jack Links"
  },
  {
    groupName: "Group 3",
    websiteName: "Kit Kat"
  },
  {
    groupName: "Group 15",
    websiteName: "Kleenex"
  },
  {
    groupName: "Group 8",
    websiteName: "Lays"
  },
  {
    groupName: "Group 21",
    websiteName: "Life Cereal"
  },
  {
    groupName: "Group 2",
    websiteName: "Lipton Pure Leaf"
  },
  {
    groupName: "Group 46",
    websiteName: "Lysol"
  },
  {
    groupName: "Group 16",
    websiteName: "Maxwell House"
  },
  {
    groupName: "Group 4",
    websiteName: "ME to WE"
  },
  {
    groupName: "Group 42",
    websiteName: "Milky Way"
  },
  {
    groupName: "Group 17",
    websiteName: "Monster"
  },
  {
    groupName: "Group 5",
    websiteName: "Nabisco"
  },
  {
    groupName: "Group 14",
    websiteName: "Neosporin"
  },
  {
    groupName: "Group 41",
    websiteName: "Nerds"
  },
  {
    groupName: "Group 14",
    websiteName: "Neutrogena"
  },
  {
    groupName: "Group 26",
    websiteName: "Nice!"
  },
  {
    groupName: "Group 5",
    websiteName: "Nilla"
  },
  {
    groupName: "Group 43",
    websiteName: "Nutri Grain"
  },
  {
    groupName: "Group 19",
    websiteName: "Oral B"
  },
  {
    groupName: "Group 5",
    websiteName: "Oreo"
  },
  {
    groupName: "Group 44",
    websiteName: "Palmolive"
  },
  {
    groupName: "Group 1",
    websiteName: "Papermate"
  },
  {
    groupName: "Group 3",
    websiteName: "Payday"
  },
  {
    groupName: "Group 36",
    websiteName: "Pentel"
  },
  {
    groupName: "Group 37",
    websiteName: "Pilot"
  },
  {
    groupName: "Group 43",
    websiteName: "Pop Tart Cereal"
  },
  {
    groupName: "Group 43",
    websiteName: "Pop Tarts"
  },
  {
    groupName: "Group 38",
    websiteName: "Popsocket"
  },
  {
    groupName: "Group 31",
    websiteName: "Post It"
  },
  {
    groupName: "Group 43",
    websiteName: "Pringles"
  },
  {
    groupName: "Group 19",
    websiteName: "Puffs"
  },
  {
    groupName: "Group 18",
    websiteName: "Purell"
  },
  {
    groupName: "Group 6",
    websiteName: "Puremoist"
  },
  {
    groupName: "Group 43",
    websiteName: "Raisin Bran"
  },
  {
    groupName: "Group 3",
    websiteName: "Reese's"
  },
  {
    groupName: "Group 43",
    websiteName: "Rice Krispie Treats"
  },
  {
    groupName: "Group 43",
    websiteName: "Rice Krispies"
  },
  {
    groupName: "Group 22",
    websiteName: "RX Bars"
  },
  {
    groupName: "Group 45",
    websiteName: "Sandisk"
  },
  {
    groupName: "Group 31",
    websiteName: "Scotch"
  },
  {
    groupName: "Group 15",
    websiteName: "Scott"
  },
  {
    groupName: "Group 1",
    websiteName: "Sharpie"
  },
  {
    groupName: "Group 1",
    websiteName: "Sistema"
  },
  {
    groupName: "Group 7",
    websiteName: "Skinny Pop"
  },
  {
    groupName: "Group 42",
    websiteName: "Snickers"
  },
  {
    groupName: "Group 5",
    websiteName: "Sourpatch"
  },
  {
    groupName: "Group 40",
    websiteName: "Storex"
  },
  {
    groupName: "Group 25",
    websiteName: "Suave"
  },
  {
    groupName: "Group 5",
    websiteName: "Swedish Fish"
  },
  {
    groupName: "Group 41",
    websiteName: "Sweet Tarts"
  },
  {
    groupName: "Group 24",
    websiteName: "Thermos"
  },
  {
    groupName: "Group 30",
    websiteName: "Ticonderoga"
  },
  {
    groupName: "Group 42",
    websiteName: "Twix"
  },
  {
    groupName: "Group 20",
    websiteName: "Welch's Fruit Snacks"
  },
  {
    groupName: "Group 26",
    websiteName: "Walgreens"
  },
  {
    groupName: "Group 26",
    websiteName: "Wexford"
  },
  {
    groupName: "Group 27",
    websiteName: "Wonderful"
  },
  {
    groupName: "Group 13",
    websiteName: "Wylers's Light"
  },
  {
    groupName: "Group 39",
    websiteName: "Zebra"
  },
  {
    groupName: "Group 23",
    websiteName: "Ziploc"
  }
];

// Widgets HTML
const codeWidgetFrame = `<iframe src="https://www.trackyourimpact.com/partner-widget" scrolling="no" height="70" width="100%" frameborder="0"></iframe>`;
const websiteWidgetFrame = `<form>
    <select class="webWidget" name="Website Dropdown">
      <option value="">Select the Brand</option> </select
    ><button type="submit" class="submitWebButton submit-btn">
      &gt;
    </button>
  </form>`;

const app = {};

// Toggling the widget
app.toggle = () => {
  $(".toggleWidget").click(function() {
    $(this).toggleClass("active");
    if ($(this).hasClass("active")) {
      $(this).text("Have code?");
      $("#havecode").addClass("hide");
      $("#donthavecode").removeClass("hide");
    } else {
      $(this).text("Don't have code?");
      $("#havecode").removeClass("hide");
      $("#donthavecode").addClass("hide");
    }
  });
  $("#havecode").append(codeWidgetFrame);
  $("#donthavecode").append(websiteWidgetFrame);
};

// Getting the link value based on the Groups
app.linkValue = () => {
  webSelect.forEach((item, index) => {
    if (item.groupName === "Group 1") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 2") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 3") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 4") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 5") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 6") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 7") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 8") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 9") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 10") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 11") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 12") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 13") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 14") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 15") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 16") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 17") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 18") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 19") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 20") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 21") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 22") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 23") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 24") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 25") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 26") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 27") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 28") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 29") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 30") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 31") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 32") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 33") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 34") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 35") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 36") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 37") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 38") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 39") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 40") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 41") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 42") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 43") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 44") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 45") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 46") {
      item.value = "https://www.we.org";
    } else if (item.groupName === "Group 47") {
      item.value = "https://www.we.org";
    } else {
      item.value = "https://www.trackyourimpact.com";
    }
  });
};

// Dropdown Option
app.widgetOption = () => {
  $(".webWidget").select2();
  for (let i = 0; i < webSelect.length; i++) {
    let websiteDrop = $(".country");
    websiteDrop = `<option value="${webSelect[i].value}">${
      webSelect[i].websiteName
    }</option>`;

    $(".webWidget").append(websiteDrop);
  }
};

// Submit button for the widget
app.widgetSubmit = () => {
  $(".submitWebButton").click(function() {
    event.preventDefault();
    const selectedWeb = $(this)
      .parent()
      .children()
      .children("option:selected")
      .val();
    //window.open(selectedWeb);
    alert(selectedWeb);
  });
};

// Brands Widget
app.widget = () => {
  app.linkValue();
  app.widgetOption();
  app.widgetSubmit();
};

//Initialize the app
app.init = () => {
  app.toggle();
  app.widget();
};

// DOM Ready
$(function() {
  app.init();
});
